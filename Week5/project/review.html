<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Review Confirmation – Summit Strength</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    
    :root{
      --primary:#0E2A47;   
      --accent:#00C853;    
      --ink:#1C2430;       
      --muted:#F6F9FC;     
      --line:#DBE5F1;      
      --field:#ffffff;
      --radius:10px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:var(--muted); color:var(--ink); line-height:1.6;
    }

    
    .topbar{
      background:var(--primary); color:#fff; text-align:center;
      padding:14px 10px; font-weight:700; letter-spacing:.2px;
    }
    .topbar h1{margin:0; font-size:1.1rem;}

    
    .wrap{max-width:360px; margin:20px auto; padding:0 10px;}
    .card{
      background:#fff;
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:14px;
      box-shadow:0 2px 6px rgba(0,0,0,0.05);
    }

    .hint{color:#6b7280; font-size:.9rem; margin:4px 0 10px;}

    
    .review-list{display:grid; gap:10px; margin:0; padding:0;}
    .row{
      background:var(--field);
      border:1px solid var(--line);
      border-radius:8px;
      padding:6px 8px;
    }
    .label{display:block; font-weight:700; font-size:.92rem; margin-bottom:2px; color:var(--primary);}
    .value{display:block; font-size:.95rem; color:#222a35; word-wrap:break-word;}

    
    .counter{
      margin-top:10px;
      background:var(--field);
      border:1px dashed var(--line);
      border-radius:8px;
      padding:8px;
      font-size:.95rem;
    }

    
    .actions{margin-top:12px;}
    .btn{
      width:100%;
      display:inline-block;
      text-align:center;
      background:var(--accent);
      color:#fff;
      font-weight:700;
      border:none;
      padding:10px 12px;
      border-radius:8px;
      cursor:pointer;
      text-decoration:none;
      transition:background 0.25s ease;
    }
    .btn:hover{background:#00b14a;}

    
    .footerband{
      margin-top:16px;
      background:var(--primary);
      color:#fff;
      text-align:center;
      padding:10px 8px;
      font-size:.88rem;
      border-radius:8px;
    }
  </style>
</head>

<body>
  <div class="topbar"><h1>Product Review Confirmation</h1></div>

  <main class="wrap">
    <section class="card">
      <p class="hint">Thank you for submitting your review!</p>

      <div class="review-list" id="reviewList"></div>

      <div class="counter">
        <strong>Reviews submitted from this browser:</strong>
        <span id="reviewCount">0</span>
      </div>

      <div class="actions">
        <a class="btn" href="form.html">Post Another Review</a>
      </div>
    </section>

   
  </main>

  <script>
    
    const products = [
      { id: "fc-1888", name: "Flux Capacitor" },
      { id: "pl-3141", name: "Power Laces" },
      { id: "mr-1100", name: "Mr. Fusion" },
      { id: "sh-1234", name: "Hoverboard" },
      { id: "gt-9000", name: "Gym Tracker Pro" }
    ];
    const nameById = Object.fromEntries(products.map(p => [p.id, p.name]));

    
    const params = new URLSearchParams(location.search);
    const get = k => params.get(k);
    const asText = v => (v ?? '').toString().trim() || '—';

    const productValue = get('productName');
    const productDisplay = nameById[productValue] || productValue;

    const rows = [
      ['Product Name', productDisplay],
      ['Overall Rating', get('rating')],
      ['Date of Installation', get('installDate')],
      ['Useful Features', (params.getAll('features') || []).join(', ') || '—'],
      ['Written Review', get('review')],
      ['Your Name', get('user')]
    ];

    const list = document.getElementById('reviewList');
    const frag = document.createDocumentFragment();
    rows.forEach(([label, value]) => {
      const div = document.createElement('div');
      div.className = 'row';
      div.innerHTML = `<span class="label">${label}</span><span class="value">${asText(value)}</span>`;
      frag.appendChild(div);
    });
    list.appendChild(frag);

    
    const hasSubmission = Array.from(params.keys()).length > 0;
    const KEY = 'reviewCount';
    const current = Number(localStorage.getItem(KEY) || 0);
    const next = hasSubmission ? current + 1 : current;
    localStorage.setItem(KEY, String(next));
    document.getElementById('reviewCount').textContent = next;

    
    const d = new Date(document.lastModified);
    const pad = n => String(n).padStart(2,'0');
    const stamp = `${pad(d.getMonth()+1)}/${pad(d.getDate())}/${d.getFullYear()} ${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;
    document.getElementById('lastmod').textContent = stamp;
  </script>
</body>
</html>
